export { default as theme } from './src/index'

import { Head, Appear } from 'mdx-deck'
import { Split, Invert } from 'mdx-deck/layouts'

import {
  FullScreenImage,
  LayoutNoFooter,
  Layout,
  BGImage,
  BigImage,
} from './src/index'

<Head>
  <title>Gatsby Data Fetching</title>
  <link
    href="https://fonts.googleapis.com/css?family=Arvo|Space+Mono"
    rel="stylesheet"
  />
  <link
    href={require('file-loader!./static/favicon.svg')}
    rel="shortcut icon"
  />
</Head>

export default Layout

# _Gatsby Data Fetching_

# üê∂

```notes
- I'm going to talk about Data Fetching in Gatsby

- I was going to call it...
```

---

export default LayoutNoFooter

# Build-time and Client Run-time Data Fetching in Gatsby

```notes
- bit of a mouthful tho, right?

- so let's stick with...
```

---

export default Layout

# _Gatsby Data Fetching_

# üê∂

```notes
- before that a little bit about me
```

---

export default LayoutNoFooter

# _Scott Spence_

###### est. 2018

```notes
- Been professional web a developer since 2018

- Analyst Developer 10 years previously

- Large financial organisations Braclays, Fidelity and Deloitte

- I'm married

- Wife and Daughter...
```

---

export default FullScreenImage

<BGImage
  src={require('file-loader!./images/family2.jpg')}
  alt="Shutter stock family photo"
/>

```notes
- That's not them
```

---

export default FullScreenImage

<BGImage
  src={require('file-loader!./images/cat-dad.jpg')}
  alt="Boris, Leo, Darcy"
/>

```notes
- I'm a cat dad...

- That's Boris, Leo and Darcy

- Ok, ice breakers out of the way
```

---

export default LayoutNoFooter

<BigImage
  src={require('file-loader!./images/karma-logo.svg')}
  alt="karmarama logo"
/>

```notes
- I work at Karmarama (Part of Accenture Interactive)

- Adverts like: Army, Lidl, Guide Dogs

- Creative Products

- Working with clients like, Tescos, Sainsburys, BT, EDF, SSE

- We've used Gatsby for several projects
```

---

export default Layout

# [beagoodasshole.com](https://beagoodasshole.com)

```notes
- City to Sea, you may have seen adverts in the cinema for it.

- yes that really is the url

- you can also use the British spelling too
```

---

export default Layout

# [asi.style](https://asi.style)

```notes
- Aberdeen Standard Investments - asi.style

- both of which I should write up a case study on

- also, we're hiring!
```

---

# We're hiring!

<a href="" rel="noopener noreferrer">
  https://apply.workable.com/karmarama/
</a>

###### Only senior roles tho! üôÉ

```notes
- Ok let's get started
```

---

export default Invert

# Warning!

---

export default LayoutNoFooter

# Excessive use

# of gif's

# memes and emoji

---

export default Layout

# Poll üíà

```notes
- this could well determine the rest of the talk

- it's the same talk regardless

- Anyone use Gatsby at work?

- Anyone use an API to populate their Gatsby projects

- who has heard of the term the content mesh
```

---

export default FullScreenImage

<BGImage
  src={require('file-loader!./images/modular-cms-architecture.png')}
  alt="Content mesh diagram"
/>

```notes
- diagram taken from the Gatsby blog post by Sam Bhagwat

- Rather than the classic monolith

- Gatsby will pull in only the content that is needed
```

---

export default Layout

# Data in Gatsby

```notes
- I'm going to focus on Gatsby, as that's the title of the talk üòÇ

- The Gatsby CLI is awesome, sources all the project data

- Pages and local assets loaded with source plugin gatsby-source-filesystem

- depending on how you get your data in there to begin with
```

---

export default Layout

# Gatsby GraphQL data layer

```notes
- who knows about GraphQL?

- ala carte data

- permissive inference in the schema

- create fields in GraphQL data layer based on that
```

---

export default Layout

# Gatsby + Graph<em>i</em>QL = üíú

```notes
- The GraphiQL explorer is great way to get the shape of your data
```

---

export default Layout

# Content Mesh

```notes
- In some ways Gatsby it's like a compiler for your web site

- It allows you to pull in data from various sources

- CMS data, APIs and Markdown

- All pre compiled and on the server

- What happens when that data needs to be updated
```

---

export default Layout

# APIs

<Appear>
  <h1>üòã</h1>
</Appear>

```notes
- I'm going to be going over getting data not in the gatsby file system

- There's a few ways to get data into Gatsby
```

---

export default Layout

# Three ways

## to get data into a Gatsby site.

```notes
- I'm going to detail three ways here, there is more
```

---

export default Layout

# Build time

using the Gatsby data layer.

```notes
- Build time

- At build time using the Gatsby data layer.

- Use the gatsby-source-graphql to connect to an arbitrary GraphQL API
```

---

export default Layout

# Build time

outside of the Gatsby data layer, using unstructured data.

```notes
- Build time, outside data layer.

- Learn more about using unstructured data in Gatsby.

- gatsby-node example for Coinlore
```

---

export default Layout

# At run time

fetching from the client.

```notes
- Who wants to see an example?
```

---

export default Layout

# üßê

```notes
- Let's take a look

- Using the Gatsby Default Starter here

- GraphiQL and the data collated there for use in development

- gatsby-source-graphql to fetch data at build time

- we're using the Rick and Morty GraphQL endpoint for this one

- for run time data fetching we're going to need axios

- here's a Spotify GraphQL endpoint

- Coinlore data
```

---

export default Layout

# Slides

## [ss10.dev/gatsby-data-fetching](https://ss10.dev/gatsby-data-fetching)

---

export default Layout

# Example

## [ss10.dev/gdfe](https://ss10.dev/gdfe)

---

export default Layout

<img
  style={{ borderRadius: '50%', height: '20rem' }}
  src={require('file-loader!./images/spencee.png')}
  alt="scott face"
/>

# [ss10.dev/git](https://ss10.dev/git)

---

export default FullScreenImage

<BGImage
  src={require('file-loader!./images/t.hanks.gif')}
  alt="tom hanks waiving"
/>
